---
description: Frontend design guide for the board selection / creation page
globs: src/app/boards/page.tsx,src/components/boards/**
alwaysApply: false
---

# Boards Page Design Guide

## Current Files

| File | Lines | Role |
|------|-------|------|
| `src/app/boards/page.tsx` | 12 | Server component. Fetches boards via `fetchBoardsGrouped()`, renders `<BoardList>` in a max-width Tailwind container. |
| `src/components/boards/BoardList.tsx` | 243 | Client component. Header + logout, "New Board" creation flow, grid of `<BoardCard>` components for owned + shared boards. All Tailwind. |
| `src/components/boards/BoardCard.tsx` | 137 | Client component. Accessible card (`role="button"`, keyboard handlers) with hover-reveal actions (duplicate, delete, leave), role badge, rename-on-double-click. Uses `useBoardPresenceCount` for presence on cards. |
| `src/components/boards/NewBoardCard.tsx` | — | Client component. First card in grid, dashed outline, inline create form. Same min-height as BoardCard. |

## What You Have to Work With

- **Props**: `BoardList` receives `initialMyBoards` and `initialSharedBoards` (arrays of `BoardWithRole`).
- **State**: `myBoards`, `sharedBoards`, `creating`, `newName`, `showNameInput`, `editingId`, `editName`, `error`.
- **Actions**: `handleCreate`, `handleRename`, `handleDelete`, `handleLeaveBoard`, `handleDuplicateBoard`, `handleLogout`.
- Supabase client stabilized via `useRef`.
- Tailwind CSS used throughout. Indigo accent, slate neutrals.

## Allowed Revisions

- `src/app/boards/page.tsx` — layout wrapper
- `src/components/boards/BoardList.tsx` — layout and styling
- `src/components/boards/BoardCard.tsx` — card design
- `src/components/boards/NewBoardCard.tsx` — new board card design

## Allowed New Files

- `src/components/boards/` — additional sub-components
- `public/` — static assets

## Constraints

- Do NOT modify files under `src/components/board/`, `src/lib/`, or `src/types/`.
- Do NOT modify `src/hooks/useRealtimeChannel.ts`, `usePresence.ts`, or `useCursors.ts` without review. `useBoardPresenceCount` is used by BoardCard for presence on the boards list — it subscribes lazily when the card is visible (Intersection Observer).
- All CRUD operations must remain functional.
- Supabase client uses `useRef` pattern — keep it.
- Prefer Tailwind classes. No inline `style={{}}` objects.
- Do NOT add new npm dependencies without explicit approval.
